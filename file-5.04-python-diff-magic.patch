diff --git a/magic/Magdir/commands b/magic/Magdir/commands
index 7874de7..8e8329d 100644
--- a/magic/Magdir/commands
+++ b/magic/Magdir/commands
@@ -61,10 +61,10 @@
 !:mime	text/x-shellscript
 
 # using env
-0	string		#!/usr/bin/env		a
->15	string		>\0			%s script text executable
-0	string		#!\ /usr/bin/env	a
->16	string		>\0			%s script text executable
+0	string/t		#!/usr/bin/env		a
+>15	string/t		>\0			%s script text executable
+0	string/t		#!\ /usr/bin/env	a
+>16	string/t		>\0			%s script text executable
 
 # PHP scripts
 # Ulf Harnhammar <ulfh@update.uu.se>
diff --git a/magic/Magdir/diff b/magic/Magdir/diff
index 0992caa..2ec1098 100644
--- a/magic/Magdir/diff
+++ b/magic/Magdir/diff
@@ -17,3 +17,12 @@
 
 # bsdiff:  file(1) magic for bsdiff(1) output
 0	string		BSDIFF40	bsdiff(1) patch file
+
+# unified diff
+0	search/4096	---\ 
+>&0	search/1024 \n
+>>&0	search/1 +++\ 
+>>>&0	search/1024 \n
+>>>>&0	search/1 @@	unified diff output text
+!:mime	text/x-diff
+!:strength + 30
\ No newline at end of file
diff --git a/magic/Magdir/python b/magic/Magdir/python
index 703504c..ace7885 100644
--- a/magic/Magdir/python
+++ b/magic/Magdir/python
@@ -5,7 +5,7 @@
 #
 # From: David Necas <yeti@physics.muni.cz>
 # often the module starts with a multiline string
-0	string		"""	a python script text executable
+0	string/t		"""	a python script text executable
 # MAGIC as specified in Python/import.c (1.5 to 2.6a1 and 3.1a0, assuming
 # that Py_UnicodeFlag is off for Python 2)
 # 20121  ( YEAR - 1995 ) + MONTH  + DAY (little endian followed by "\r\n"
@@ -28,3 +28,31 @@
 !:mime text/x-python
 0	search/1	#!\ /usr/bin/env\ ruby	Python script text executable
 !:mime text/x-python
+
+# from module.submodule import func1, func2
+0	regex/b	\^from\\s+(\\w|\\.)+\\s+import.*$	Python script text executable
+!:mime text/x-python
+
+# def __init__ (self, ...):
+0	search/4096	def\ __init__
+>&0	search/64 self	Python script text executable
+!:mime text/x-python
+
+# comments
+0	search/4096	'''
+>&0	regex	.*'''$	Python script text executable
+!:mime text/x-python
+
+0	search/4096	"""
+>&0	regex	.*"""$	Python script text executable
+!:mime text/x-python
+
+# try:
+# except: or finally:
+# block
+0	search/4096	try:
+>&0	regex	\^\\s*except.*:	Python script text executable
+!:mime text/x-python
+0	search/4096	try:
+>&0	search/4096	finally:	Python script text executable
+!:mime text/x-python
